{% extends "layout.html" %}
{% block additional_css %}
<title>Admin</title>
<!-- CSS and javascript for datatables, requires jquery-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<!-- Setup datatables-->
<script>
    $(document).ready( function () {
        $('#users').DataTable({
            "createdRow": function( row, data, dataIndex ) {
             if ( data[6] == "True" ) {
         $(row).addClass('alarm');
         }},
        "paging": false,
        "order": [[ 0, "asc" ]]
        });
    } );
</script>
{% endblock %}

{% block main_content %}
<div class="mt-4 container-xl glider-list">
    <div class="welcome">
        <div class="pilot-info">
            <h1>Welcome admin {{ user.name }}</h1><br>

<div class="mt-4 container-xl glider-list">
    <h3 class="mt-4">Pilot status</h3>

    <table class="table table-hover" id="users">
        <thead>
        <tr>
            <th scope="col">pilot number</th>
            {% for column in users_table.columns %}
                <th scope="col">{{ column }}</th>
            {% endfor %}
        </tr>
        </thead>
        <tbody>
        {% for row in users_table.itertuples() %}

        <tr>
                {% for cell in row %}
                    <td>{{ cell }}</td>
                {% endfor %}
        </tr>
            {%  endfor %}
        </tbody>
    </table>



</div>
</div>
</div>
</div>
{% endblock %}
